<!DOCTYPE html><html lang="en" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Composed Method Pattern explained" /><meta property="og:locale" content="en" /><meta name="description" content="Composed Method Pattern is the most useful and practical pattern I use and at the same time it’s not known to many developers. It’s surprising, because the pattern is the foundation of maintainable code." /><meta property="og:description" content="Composed Method Pattern is the most useful and practical pattern I use and at the same time it’s not known to many developers. It’s surprising, because the pattern is the foundation of maintainable code." /><link rel="canonical" href="https://farenda.com/composed-method-pattern/" /><meta property="og:url" content="https://farenda.com/composed-method-pattern/" /><meta property="og:site_name" content="Farenda" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2016-12-02T22:10:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Composed Method Pattern explained" /><meta name="twitter:site" content="@rudaliszka" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-06-08T18:35:03+02:00","datePublished":"2016-12-02T22:10:00+01:00","description":"Composed Method Pattern is the most useful and practical pattern I use and at the same time it’s not known to many developers. It’s surprising, because the pattern is the foundation of maintainable code.","headline":"Composed Method Pattern explained","mainEntityOfPage":{"@type":"WebPage","@id":"https://farenda.com/composed-method-pattern/"},"url":"https://farenda.com/composed-method-pattern/"}</script><title>Composed Method Pattern explained | Farenda</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Farenda"><meta name="application-name" content="Farenda"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> </a></div><div class="site-title"> <a href="/">Farenda</a></div><div class="site-subtitle font-italic">Programming bits from the past</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/pwojnowski" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/rudaliszka" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/przemys%C5%82aw-wojnowski-b2b5462/" aria-label="linkedin" target="_blank" rel="noopener noreferrer"> <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['hello farenda.com',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Composed Method Pattern explained</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Composed Method Pattern explained</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1480713000" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Dec 2, 2016 </em> </span> <span> Updated <em class="" data-ts="1686242103" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 8, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/rudaliszka">Przemysław Wojnowski</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="952 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><p><strong>Composed Method Pattern</strong> is the most useful and practical pattern I use and at the same time it’s not known to many developers. It’s surprising, because the pattern is the foundation of maintainable code.</p><p>Almost every code review I do contains the sentence “Refactor this to Composed Method”. The <em>Composed Method Pattern</em> is easy and fast to implement, with immediate benefits.</p><h1 id="purpose-of-composed-method">Purpose of Composed Method</h1><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>You cannot immediately understand method's logic.
</pre></table></code></div></div><p>In corporate word it’s a standard. There is plenty of low quality code that have to be maintained, extended, etc. But how to change anything, when the business logic is a total mess? Sounds familiar? Here enters the <em>Composed Method</em> and the pattern can be summarized in one sentence:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Composed Method literally turns shit into honey.
</pre></table></code></div></div><h1 id="how-to-introduce">How to introduce</h1><p>Apply <em>Extract Method</em> refactoring on <em>logically coherent</em> blocks of code until all are in separate methods, where names of the methods tell what they do (not <em>how</em>).</p><h2 id="single-level-of-abstraction-sla-principle"><span class="mr-2">Single Level Of Abstraction (SLA Principle)</span><a href="#single-level-of-abstraction-sla-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>All steps of processing in a method should be at the same level of abstraction. In other words, they should not expose their details, but move the details to separate methods that give them <em>intent-revealing names</em>. The parts of a method should tell what is being done, not how.</p><h1 id="composed-method-in-java">Composed Method in Java</h1><p>In the below code example there’s a method that calculates something. It takes parameters: a scores as a String, numbers of scores in the String, and how many of them should be taken into account.</p><h2 id="bofore-composed-method"><span class="mr-2">Bofore Composed Method</span><a href="#bofore-composed-method" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">private</span> <span class="kt">int</span> <span class="nf">sumBest</span><span class="o">(</span><span class="nc">String</span> <span class="n">data</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">,</span> <span class="kt">int</span> <span class="n">howMany</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">scanner</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">scores</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">size</span><span class="o">];</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">scores</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">scanner</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="nc">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">scores</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">scores</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="n">howMany</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">scores</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">scores</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Even though the code is simple, it’s not immediately obvious how it works and what it does. You have to dig into details to pick out <em>steps of processing</em> it does and remember them for further code analysis - just recall a real business code with much longer and more complicated methods.</p><p>The above method can be called like this:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">sumBestBefore</span><span class="o">(</span><span class="s">"1 2 3 4 5 6 7 8 9 10"</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Sum of best 3: "</span> <span class="o">+</span> <span class="n">sum</span><span class="o">);</span>
<span class="c1">// prints: Sum of best 3: 27</span>
</pre></table></code></div></div><h2 id="refactored-to-composed-method"><span class="mr-2">Refactored to Composed Method</span><a href="#refactored-to-composed-method" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Here we’ve got the same code, but refactored to <em>Composed Method</em> making <strong>each step explicit</strong>, thus the whole code is much more readable:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kd">private</span> <span class="kt">int</span> <span class="nf">sumBest</span><span class="o">(</span><span class="nc">String</span> <span class="n">data</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">,</span> <span class="kt">int</span> <span class="n">howMany</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">scores</span> <span class="o">=</span> <span class="n">loadScores</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="n">size</span><span class="o">);</span>
    <span class="n">sort</span><span class="o">(</span><span class="n">scores</span><span class="o">);</span>
    <span class="k">return</span> <span class="nf">sumLast</span><span class="o">(</span><span class="n">scores</span><span class="o">,</span> <span class="n">howMany</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">loadScores</span><span class="o">(</span><span class="nc">String</span> <span class="n">data</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">scanner</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">size</span><span class="o">];</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">numbers</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">scanner</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">numbers</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">int</span> <span class="nf">sumLast</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">scores</span><span class="o">,</span> <span class="kt">int</span> <span class="n">howMany</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">scores</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="n">howMany</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">scores</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">scores</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Now it’s clearly visible that whole processing consists of three steps:</p><ol><li>Loading scores from given data string.<li>Sorting the scores.<li>Summing the last (biggest) scores.</ol><p>The <code class="language-plaintext highlighter-rouge">sumBest()</code> method does whole processing at the single level of abstraction - loads scores, sorts them, and calculates sums. It operates on scores. How it loads them? Who cares!? At this level it’s not important. If someone want’s to know, they can always go to the <code class="language-plaintext highlighter-rouge">loadScores()</code> method.</p><p>The same with other steps - is it important, for understanding <code class="language-plaintext highlighter-rouge">sumBest</code> what kind of sorting is used? Of course not! It’s just a detail here, so we hid it.</p><p>Also, note how small and easy to understand the methods are. The details of each step can be understand in no time!</p><h1 id="composed-method-in-functional-languages">Composed Method in functional languages</h1><p>Although the <em>Composed Method Pattern</em> is known from Object-Oriented Programming, it is equally well applicable in <em>Functional Programming</em>. Here we can name it <strong>Composed Function</strong>. :-)</p><h2 id="before-composed-function"><span class="mr-2">Before Composed Function</span><a href="#before-composed-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The following Clojure version does the same thing as the Java code above. Again, to understand what it does you have to dig into unimportant details:</p><div class="language-clojure highlighter-rouge"><div class="code-header"> <span data-label-text="Clojure"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum-best</span><span class="w"> </span><span class="p">[</span><span class="n">data</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">how-many</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">scanner</span><span class="w"> </span><span class="p">(</span><span class="nf">Scanner.</span><span class="w"> </span><span class="n">data</span><span class="p">)]</span><span class="w">
    </span><span class="p">(</span><span class="nf">-&gt;&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">size</span><span class="p">)]</span><span class="w"> </span><span class="p">(</span><span class="nf">.nextInt</span><span class="w"> </span><span class="n">scanner</span><span class="p">))</span><span class="w">
         </span><span class="p">(</span><span class="nb">sort</span><span class="w"> </span><span class="p">(</span><span class="nf">java.util.Collections/reverseOrder</span><span class="p">))</span><span class="w">
         </span><span class="p">(</span><span class="nb">take</span><span class="w"> </span><span class="n">how-many</span><span class="p">)</span><span class="w">
         </span><span class="p">(</span><span class="nb">apply</span><span class="w"> </span><span class="nb">+</span><span class="p">))))</span><span class="w">
</span></pre></table></code></div></div><h2 id="refactored-to-composed-function"><span class="mr-2">Refactored to Composed Function</span><a href="#refactored-to-composed-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Here is the same code logic, but with readable, explicit processing steps - <em>Composed Function</em>:</p><div class="language-clojure highlighter-rouge"><div class="code-header"> <span data-label-text="Clojure"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">load-scores</span><span class="w"> </span><span class="p">[</span><span class="n">data</span><span class="w"> </span><span class="n">size</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">scanner</span><span class="w"> </span><span class="p">(</span><span class="nf">Scanner.</span><span class="w"> </span><span class="n">data</span><span class="p">)]</span><span class="w">
    </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">size</span><span class="p">)]</span><span class="w"> </span><span class="p">(</span><span class="nf">.nextInt</span><span class="w"> </span><span class="n">scanner</span><span class="p">))))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sort-desc</span><span class="w"> </span><span class="p">[</span><span class="n">scores</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">sort</span><span class="w"> </span><span class="p">(</span><span class="nf">java.util.Collections/reverseOrder</span><span class="p">)</span><span class="w"> </span><span class="n">scores</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum-first</span><span class="w"> </span><span class="p">[</span><span class="n">how-many</span><span class="w"> </span><span class="n">scores</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">apply</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nb">take</span><span class="w"> </span><span class="n">how-many</span><span class="w"> </span><span class="n">scores</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">sum-best</span><span class="w">
  </span><span class="p">[</span><span class="n">data</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">how-many</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nf">-&gt;&gt;</span><span class="w"> </span><span class="p">(</span><span class="nf">load-scores</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w">
       </span><span class="n">sort-desc</span><span class="w">
       </span><span class="p">(</span><span class="nf">sum-first</span><span class="w"> </span><span class="n">how-many</span><span class="p">)))</span><span class="w">
</span></pre></table></code></div></div><h1 id="properties-of-code-refactored-to-composed-method">Properties of code refactored to Composed Method</h1><h2 id="benefits"><span class="mr-2">Benefits</span><a href="#benefits" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li>Makes the code immediately understandable Extracted methods have names that immediately tell what they do (<strong>intent revealing names</strong>), without having to analyze ton of code.<li>Helps to find duplicated code.<li>Helps to identify responsibilities.<li>Makes unit testing easy.</ol><h2 id="drawbacks"><span class="mr-2">Drawbacks</span><a href="#drawbacks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li>Creates more small methods. From my experience it is not a problem, because duplicated code is unified and methods with other responsibilities are moved to their own or correct classes.<li>May make the debugging more difficult, because the logic is spread in different methods. There is more methods and classes, however they are smaller, easier to understand, and reason about.</ol><h1 id="references">References</h1><ul><li>“<em>Refactoring to Design Patterns</em>” by <em>Joshua Kerievsky</em></ul></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/software-design/" class="post-tag no-text-decoration" >software-design</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/clojure/" class="post-tag no-text-decoration" >clojure</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Composed%20Method%20Pattern%20explained%20-%20Farenda&url=https%3A%2F%2Ffarenda.com%2Fcomposed-method-pattern%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Composed%20Method%20Pattern%20explained%20-%20Farenda&u=https%3A%2F%2Ffarenda.com%2Fcomposed-method-pattern%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ffarenda.com%2Fcomposed-method-pattern%2F&text=Composed%20Method%20Pattern%20explained%20-%20Farenda" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ffarenda.com%2Fcomposed-method-pattern%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/merge-sort-in-java/">Merge Sort in Java</a><li><a href="/clojure-repl-docs/">Clojure REPL docs</a><li><a href="/composed-method-pattern/">Composed Method Pattern explained</a><li><a href="/quicksort-in-java/">Quicksort in Java</a><li><a href="/insertion-sort-in-clojure/">Insertion Sort in Clojure</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/clojure/">clojure</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/software-design/">software-design</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/merge-sort-in-java/"><div class="card-body"> <em class="small" data-ts="1478866200" data-df="ll" > Nov 11, 2016 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Merge Sort in Java</h3><div class="text-muted small"><p> In this post we’ll implement Merge Sort in Java. It’s fast, divide and conquer, sorting algorithm that can be also parallelized. How Merge Sort works The algorithm belongs to the Divide and Con...</p></div></div></a></div><div class="card"> <a href="/clojure-repl-docs/"><div class="card-body"> <em class="small" data-ts="1480086300" data-df="ll" > Nov 25, 2016 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Clojure REPL docs</h3><div class="text-muted small"><p> In this post we show how to read docs in Clojure REPL. You’ll learn useful commands to find and display Clojure and Java docs, how to display Clojure source code. Print documentation To print d...</p></div></div></a></div><div class="card"> <a href="/quicksort-in-java/"><div class="card-body"> <em class="small" data-ts="1481884800" data-df="ll" > Dec 16, 2016 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Quicksort in Java</h3><div class="text-muted small"><p> Quicksort is one of the fastest sorting algorithms. In this article we implement Quicksort in Java, describe how it works and its properties. How Quicksort works Similarly to the merge sort, qu...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/clojure-repl-docs/" class="btn btn-outline-primary" prompt="Older"><p>Clojure REPL docs</p></a> <a href="/quicksort-in-java/" class="btn btn-outline-primary" prompt="Newer"><p>Quicksort in Java</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/clojure/">clojure</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/software-design/">software-design</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/rudaliszka">Przemysław Wojnowski</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-7Y9PYV966D"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-7Y9PYV966D'); }); </script>
